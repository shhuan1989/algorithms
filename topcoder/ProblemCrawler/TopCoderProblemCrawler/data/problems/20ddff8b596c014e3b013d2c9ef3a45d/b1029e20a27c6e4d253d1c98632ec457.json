{
	"link":"http://community.topcoder.com/stat?c=problem_statement&pm=10949&rd=14282",
	"statement":"The prince has just been introduced to geometry in school. The king wants to check his son's progress by giving him the following geometry problem:<br /><br /> <br /><br /> You are given the coordinates of <b>N</b> points on the 2-dimensional plane. No two points are coincident and no three are collinear. Find the number of pairs of intersecting line segments whose endpoints are among the given points. The line segments within each pair must not share any common endpoints.<br /><br /> <br /><br /> For example, if the given points are {(1, 4), (2, 1), (0, 0), (1, 3) and (2, 4)}, then there are three valid pairs of intersecting line segments as shown in the pictures below.<br /><br /> <pre>\n<img src=\"http://www.topcoder.com/contest/problem/LineSegments/Screenshot-31.jpg\" />        <img src=\"http://www.topcoder.com/contest/problem/LineSegments/Screenshot-32.jpg\" />        <img src=\"http://www.topcoder.com/contest/problem/LineSegments/Screenshot-33.jpg\" />\n</pre> <br /><br /> The king wants you to write a program to solve the above problem so that the answer given by the prince can be checked. The rth point is (x<sub>r</sub>, y<sub>r</sub>). The x-coordinates of the points can be generated by using the following recursive definition:<br /><br /> <pre>\n\tx<sub>1</sub> = <b>xFirst</b>, and\n\tx<sub>i</sub> = (x<sub>i-1</sub>*<b>xProd</b> + <b>xAdd</b>) mod <b>xMod</b>, for 2 ≤ i ≤ <b>N</b>\n        (Note that (x<sub>i-1</sub>*<b>xProd</b> + <b>xAdd</b>) may overflow 32-bit integers)\n</pre> The values of y<sub>r</sub> are defined similarly using <b>yFirst</b>, <b>yAdd</b>, <b>yProd</b> and <b>yMod</b>.<br /><br />",
	"notes":[],
	"definition":[
		{
			"definitionKey":"Class:",
			"definitionVal":"LineSegments",
			"order":1
		},
		{
			"definitionKey":"Method:",
			"definitionVal":"intersections",
			"order":2
		},
		{
			"definitionKey":"Parameters:",
			"definitionVal":"int, int, int, int, int, int, int, int, int",
			"order":3
		},
		{
			"definitionKey":"Returns:",
			"definitionVal":"long",
			"order":4
		},
		{
			"definitionKey":"Method signature:",
			"definitionVal":"long intersections(int N, int xFirst, int xAdd, int xProd, int xMod, int yFirst, int yAdd, int yProd, int yMod)",
			"order":5
		}
	],
	"examples":[
		{
			"expect":"4",
			"id":0,
			"input":"4",
			"note":"The points are (4, 1), (2, 2), (0, 0) and (3, 1).    No intersecting line segments. ",
			"order":1
		},
		{
			"expect":"1",
			"id":0,
			"input":"4",
			"note":"The points are (1, 1), (0, 0), (2, 1) and (1, 0).    Line segment {(0, 0), (2, 1)} intersects with line segment {(1, 1), (1, 0)}. ",
			"order":2
		},
		{
			"expect":"1",
			"id":0,
			"input":"5",
			"note":"The example in the problem statement. ",
			"order":3
		},
		{
			"expect":"1",
			"id":0,
			"input":"6",
			"note":"",
			"order":4
		},
		{
			"expect":"215657",
			"id":0,
			"input":"6",
			"note":"Make sure you take care of overflow.",
			"order":5
		}
	],
	"constraints":[
		{
			"order":1,
			"val":"N will be between 2 and 1200, inclusive."
		},
		{
			"order":2,
			"val":"xMod and yMod will be between 1 and 1000000, inclusive."
		},
		{
			"order":3,
			"val":"xFirst, xAdd and xProd will be between 0 and (xMod-1), inclusive."
		},
		{
			"order":4,
			"val":"yFirst, yAdd and yProd will be between 0 and (yMod-1), inclusive."
		},
		{
			"order":5,
			"val":"The values of the arguments will be such that among the N generated points (using the above definition), no two points will be coincident and no three will be collinear."
		}
	]
}