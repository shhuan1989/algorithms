{
	"link":"http://community.topcoder.com/stat?c=problem_statement&pm=13501&rd=16086",
	"statement":"<p>You are playing a game in a casino. The game is played with a sequence of positive real numbers. You are given a int[] <b>S</b>. For each valid i, element i of the initial sequence can be computed as <b>S</b>[i] / 1000.0.</p> <br /><br /> <p>During the game, some elements of the sequence will become erased. Once an element has been erased, it remains erased for the rest of the game. The game ends when all elements have been erased.</p> <br /><br /> <p>Your initial score is zero.</p> <br /><br /> <p>The game is played in turns. Each turn has three phases: </p>\n <ol> \n  <li>An element of the sequence that hasn't been erased yet is chosen uniformly at random.</li> \n  <li>That element is added to your score and then erased.</li> \n  <li>A random effect is applied to each element that hasn't been erased yet.</li> \n </ol><p></p> <br /><br /> <p>For each element, the random effect that will be applied is randomly chosen as follows: </p>\n <ul> \n  <li>With probability 33% the element is erased (without being added to your score).</li> \n  <li>With probability 33% the element is divided by two. (If its current value is x, its new value will be x/2.)</li> \n  <li>With probability 33% the element is replaced by its square root. (If its current value is x, its new value will be sqrt(x).)</li> \n  <li>With probability 1% the element is restored to its initial value. (Regardless of its current value, its new value will be the value it had before the first turn of the game.)</li> \n </ul> The random effects for different elements are mutually independent.<p></p> <br /><br /> <p>Return the expected value of your score at the end of the game.</p>",
	"notes":[{
		"order":1,
		"val":"The returned value must have an absolute or relative error less than 1e-9."
	}],
	"definition":[
		{
			"definitionKey":"Class:",
			"definitionVal":"CasinoGame",
			"order":1
		},
		{
			"definitionKey":"Method:",
			"definitionVal":"expectedValue",
			"order":2
		},
		{
			"definitionKey":"Parameters:",
			"definitionVal":"int[]",
			"order":3
		},
		{
			"definitionKey":"Returns:",
			"definitionVal":"double",
			"order":4
		},
		{
			"definitionKey":"Method signature:",
			"definitionVal":"double expectedValue(int[] S)",
			"order":5
		}
	],
	"examples":[
		{
			"expect":"Returns: 120.80000000000001",
			"id":0,
			"input":"{100000, 100000}",
			"note":"We start the game with the sequence {100, 100}. Regardless of which element is chosen in the first step, our score will increase by 100 and that element will be erased. Let's consider what will happen to the other element:  Thus, our expected final score is 0.33*100 + 0.33*150 + 0.33*110 + 0.01*200.",
			"order":1
		},
		{
			"expect":"Returns: 68.391",
			"id":0,
			"input":"{68391}",
			"note":"",
			"order":2
		},
		{
			"expect":"Returns: 59.47600366439891",
			"id":0,
			"input":"{9000, 25000, 100000}",
			"note":"The initial sequence is {9, 25, 100}. One possible gameplay looks as follows:  In this game your final score was 25 + 4.5 + 100 = 129.5.",
			"order":3
		},
		{
			"expect":"Returns: 569.7984079363877",
			"id":0,
			"input":"{932452, 32431, 234511, 1, 999, 12341, 432134, 987654, 1000000}",
			"note":"",
			"order":4
		},
		{
			"expect":"Returns: 817.8156226417173",
			"id":0,
			"input":"{655482,657692,166545,510808,406135,487463,572526,89578,844121,881092,843697,733297,998007,518962,879347,652488,193968,569275,486335,194222,498550,98979,729632,518857,959392,22656,728919,158737,793281,75238,760687,449635,732925,558907,592118,770734,47242,165516,491986,891358,678283,336555,257207,308841,487191,137426,961324,681154,338375,80210, 875371,468599,809986,237554,987452,770250,891008,348922,928983,685161,424155,690542,766471,788754,881123,359461,560360,928360,156651,684020,452270,466608,21447,341151,775444,140312,110251,369319,821461,448621,81203,329383,548895,891185,566933,168898,662307,458813,517815,223841,775648,573645,546058,174670,363271,428053,165805,555306,357286,322452, 240198,441230,420734,892443,414055,827853,33627,524301,828846,855084,604596,910045,816141,154363,802102,15625,323256,96960,106112,472746,320797,881756,47263,866850,688100,410529,295775,853901,597509,284735,808027,837703,357639,229633,362697,771689,58358,396319,927664,518879,883077,533133,429796,700091,687491,863572,715711,642422,592206,821819, 116040,912998,336126,794100,412399,25098,836303,339849,510673,434685,256258,319572,904062,613893,180880,267631,18133,239233,663945,945793,389786,179574,111477,819577,879660,430642,315700,227922,73936,907902,681415,820773,453451,649215,615745,865846,674309,452921,837369,816656,519280,94499,137101,424214,340066,317976,691840,988997,188883,386109}",
			"note":"",
			"order":5
		},
		{
			"expect":"Returns: 1650.8120310299312",
			"id":0,
			"input":"{1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000, 1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000, 1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000, 1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000, 1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000, 1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000, 1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000, 1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000, 1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000, 1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000, 1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000, 1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000, 1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000, 1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000, 1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000, 1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000, 1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000, 1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000, 1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000, 1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000,1000000}",
			"note":"Here  has 1,000 elements, all equal to 1,000,000.",
			"order":6
		}
	],
	"constraints":[
		{
			"order":1,
			"val":"S will contain between 1 and 1,000 elements, inclusive. "
		},
		{
			"order":2,
			"val":"Each element of S will be between 1 and 1,000,000, inclusive."
		}
	]
}